{"version":3,"sources":["components/Catalog/Catalog.module.css","components/Book/Book.module.css","components/Form/Search.module.css","components/common/Preloader.module.css","App.module.css","reportWebVitals.js","api/api.ts","redux/book-reducer.ts","assets/preloader.png","components/common/Preloader.tsx","assets/no_cover_available.jpg","components/Book/Book.tsx","components/Book/BookContainer.tsx","redux/catalog-reducer.ts","components/Catalog/Catalog.tsx","components/Catalog/CatalogContainer.tsx","components/Form/Search.tsx","components/Form/SearchContainer.tsx","redux/redux-store.ts","App.tsx","index.tsx"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","booksAPI","startIndex","maxResults","category","search","sorting","axios","get","response","data","volumeId","initialState","isFetching","book","actions","type","bookReducer","state","action","Preloader","className","styles","modal__container","modal","main","onClick","e","stopPropagation","src","preloader","Book","container","book_container","cover_container","volumeInfo","imageLinks","thumbnail","imgPlug","alt","info","categories","map","title","authors","author","description","connect","getBook","dispatch","props","useEffect","match","params","formData","totalItems","items","catalog","getCatalog","getState","Catalog","catalogReducer","results","item","index","to","id","image_container","length","loadMore","active","onLoadMore","isFetchingButton","useState","setIsfetchingButton","Search","useForm","register","handleSubmit","errors","formState","history","useHistory","form","onSubmit","push","search_field","required","value","message","placeholder","htmlFor","error","settings_wrapper","defaultValue","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","window","App","app_wrapper","exact","from","path","render","GoogleBooksApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.cdfbb35e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Catalog_container__IdZ7A\",\"results\":\"Catalog_results__l1P07\",\"items\":\"Catalog_items__2gF6P\",\"item\":\"Catalog_item__27CRd\",\"image_container\":\"Catalog_image_container__GLwh9\",\"info\":\"Catalog_info__3tPZs\",\"category\":\"Catalog_category__2vL5T\",\"authors\":\"Catalog_authors__2uMiT\",\"title\":\"Catalog_title__C7NTH\",\"loadMore\":\"Catalog_loadMore__3BPg6\",\"active\":\"Catalog_active__3PXug\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Book_container__3NlpW\",\"book_container\":\"Book_book_container__3Fb5j\",\"cover_container\":\"Book_cover_container__qvrf1\",\"info\":\"Book_info__1p3Uj\",\"categories\":\"Book_categories__1s_Gk\",\"title\":\"Book_title__3nYNb\",\"authors\":\"Book_authors__3CLhT\",\"description\":\"Book_description__zjlLw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Search_container__wBdFf\",\"form\":\"Search_form__C6JUD\",\"search_field\":\"Search_search_field__1UWdk\",\"settings_wrapper\":\"Search_settings_wrapper__2Vhu3\",\"category\":\"Search_category__3coHS\",\"sorting\":\"Search_sorting__2qBwW\",\"required\":\"Search_required__DCEcc\",\"error\":\"Search_error__2qK09\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal__container\":\"Preloader_modal__container__17bfc\",\"modal\":\"Preloader_modal__1vRD4\",\"main\":\"Preloader_main__1Ew_b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__5i7wO\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { FormDataType, ItemType } from \"./../types/types\";\nimport axios from \"axios\";\n\nexport type GetCatalogResponseType = {\n  kind: string;\n  totalItems: number;\n  items: Array<ItemType>;\n};\n\nexport const booksAPI = {\n  getCatalog(\n    { category, search, sorting }: FormDataType,\n    startIndex: number,\n    maxResults: number\n  ) {\n    return axios\n      .get<GetCatalogResponseType>(\n        `https://www.googleapis.com/books/v1/volumes?q=${search}+subject:${\n          category === \"all\" ? \"\" : category\n        }&orderBy=${sorting}&startIndex=${startIndex}&maxResults=${maxResults}&key=AIzaSyC1IPy_Wayo3fgI14j-i2FAqEkAbRq9jQU`,\n        {\n          // headers: {\n          //   \"API-KEY\": \"AIzaSyC1IPy_Wayo3fgI14j-i2FAqEkAbRq9jQU\",\n          // },\n        }\n      )\n      .then((response) => {\n        return response.data;\n      });\n  },\n  getBook(volumeId: string) {\n    return axios\n      .get<ItemType>(\n        `https://www.googleapis.com/books/v1/volumes/${volumeId}&key=AIzaSyC1IPy_Wayo3fgI14j-i2FAqEkAbRq9jQU`,\n        {\n          // headers: {\n          //   \"API-KEY\": \"AIzaSyC1IPy_Wayo3fgI14j-i2FAqEkAbRq9jQU\",\n          // },\n        }\n      )\n      .then((response) => {\n        return response.data;\n      });\n  },\n};\n","import { InferActionsTypes, BaseThunkType } from './redux-store';\nimport { ItemType } from './../types/types';\nimport { booksAPI } from \"../api/api\";\n\ntype InitialStateType = typeof initialState\n\nlet initialState = {\n    isFetching: false,\n    book: {} as ItemType\n}\n\nconst bookReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case 'GET_BOOK': {\n            return {\n                ...state,\n                book: action.book\n            }\n        }\n        case 'IS_FETCHING': {\n            return {\n                ...state,\n                isFetching: action.isFetching\n            }\n        }\n        default: return state\n    }\n}\n\nconst actions = {\n    getBookAC: (book: ItemType) => ({ type: 'GET_BOOK', book } as const),\n    isFetchingAC: (isFetching: boolean) => ({ type: 'IS_FETCHING', isFetching } as const)\n}\n\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes>\n\n\nexport const getBook = (volumeId: string): ThunkType => async (dispatch) => {\n    dispatch(actions.isFetchingAC(true))\n    let data = await booksAPI.getBook(volumeId)\n    dispatch(actions.getBookAC(data))\n    dispatch(actions.isFetchingAC(false))\n}\n\nexport default bookReducer;","export default __webpack_public_path__ + \"static/media/preloader.b15feea2.png\";","import React from 'react'\nimport styles from './Preloader.module.css'\nimport preloader from '../../assets/preloader.png'\n\ntype PropsType = {}\n\nconst Preloader: React.FC<PropsType> = () => {\n\n    return (\n        <div className={styles.modal__container}>\n            <div className={styles.modal}>\n                <div className={styles.main} onClick={(e) => e.stopPropagation()}>\n                    <img src={preloader} />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Preloader;","export default __webpack_public_path__ + \"static/media/no_cover_available.569d55d7.jpg\";","import React from \"react\";\nimport Preloader from \"../common/Preloader\";\nimport styles from \"./Book.module.css\";\nimport imgPlug from \"../../assets/no_cover_available.jpg\";\nimport { ItemType } from \"../../types/types\";\n\nexport type MapPropsType = {\n  book: ItemType;\n  isFetching: boolean;\n};\n\nconst Book: React.FC<MapPropsType> = ({ book, isFetching }) => {\n  if (isFetching) {\n    return <Preloader />;\n  }\n  return (\n    <div className={styles.container}>\n      <div className={styles.book_container}>\n        <div className={styles.cover_container}>\n          <img\n            src={\n              book.volumeInfo?.imageLinks?.thumbnail\n                ? book.volumeInfo.imageLinks?.thumbnail\n                : imgPlug\n            }\n            alt=\"cover is not available\"\n          />\n        </div>\n        <div className={styles.info}>\n          <div className={styles.categories}>\n            {book.volumeInfo?.categories?.map((category) => category)}\n          </div>\n          <div className={styles.title}>{book.volumeInfo?.title}</div>\n          <div className={styles.authors}>\n            {book.volumeInfo?.authors?.map((author) => author)}\n          </div>\n          {book.volumeInfo?.description && (\n            <div className={styles.description}>\n              {book.volumeInfo.description}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Book;\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { RouteComponentProps } from 'react-router-dom';\nimport { getBook } from '../../redux/book-reducer'\nimport { AppStateType } from '../../redux/redux-store';\nimport Book, { MapPropsType } from \"./Book\"\n\n\ntype DispatchPropsType = {\n    getBook: (volumeId: string) => void\n}\n\ntype PathParamsType = {\n    volumeId: string\n}\n\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>\n\nconst BookContainer: React.FC<PropsType> = (props) => {\n    useEffect(() => {\n            props.getBook(props.match.params.volumeId)\n        \n    }, [])\n\n    return <Book book={props.book} isFetching={props.isFetching} />\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n    book: state.Book.book,\n    isFetching: state.Book.isFetching\n})\n\nexport default connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, { getBook })(BookContainer)","import { InferActionsTypes, BaseThunkType } from \"./redux-store\";\nimport { FormDataType, ItemType } from \"./../types/types\";\nimport { booksAPI, GetCatalogResponseType } from \"../api/api\";\n\ntype InitialStateType = typeof initialState;\n\nlet initialState = {\n  startIndex: 0,\n  maxResults: 30,\n  formData: {} as FormDataType,\n  totalItems: null as number | null,\n  isFetching: false,\n  items: [] as Array<ItemType>,\n};\n\nconst catalogReducer = (\n  state = initialState,\n  action: ActionsTypes\n): InitialStateType => {\n  switch (action.type) {\n    case \"GET_CATALOG\": {\n      return {\n        ...state,\n        startIndex: action.startIndex,\n        formData: action.formData,\n        totalItems: action.catalog.totalItems,\n        items:\n          action.catalog.totalItems && action.catalog.totalItems > 0\n            ? action.startIndex === 0\n              ? [...action.catalog.items]\n              : [...state.items, ...action.catalog.items]\n            : [],\n      };\n    }\n    case \"IS_FETCHING\": {\n      return {\n        ...state,\n        isFetching: action.isFetching,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const actions = {\n  getCatalogAC: (\n    catalog: GetCatalogResponseType,\n    startIndex: number,\n    formData: FormDataType\n  ) => ({ type: \"GET_CATALOG\", catalog, startIndex, formData } as const),\n  isFetchingAC: (isFetching: boolean) =>\n    ({ type: \"IS_FETCHING\", isFetching } as const),\n};\ntype ActionsTypes = InferActionsTypes<typeof actions>;\ntype ThunkType = BaseThunkType<ActionsTypes>;\n\nexport const getCatalog =\n  (formData: FormDataType, startIndex: number): ThunkType =>\n  async (dispatch, getState) => {\n    dispatch(actions.isFetchingAC(true));\n    let maxResults = getState().Catalog.maxResults;\n    let catalog = await booksAPI.getCatalog(formData, startIndex, maxResults);\n    dispatch(actions.getCatalogAC(catalog, startIndex, formData));\n    dispatch(actions.isFetchingAC(false));\n  };\n\nexport default catalogReducer;\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport styles from './Catalog.module.css'\nimport Preloader from '../common/Preloader'\nimport preloader from '../../assets/preloader.png'\nimport imgPlug from '../../assets/no_cover_available.jpg'\nimport { ItemType } from '../../types/types'\n\nexport type MapPropsType = {\n    items: Array<ItemType>\n    totalItems: number | null\n    isFetching: boolean\n    isFetchingButton: boolean\n}\n\nexport type DispatchPropsType = {\n    onLoadMore: () => void\n}\n\nconst Catalog: React.FC<MapPropsType & DispatchPropsType> = (props) => {\n\n    return <>\n        {props.totalItems !=null && <div className={styles.container}>\n            {<div className={styles.results}>{props.totalItems === 0 ? <span>No results found</span> :\n                <span>Found {props.totalItems} results</span>}</div>}\n            {props.totalItems > 0 && <div className={styles.items}>{props.items && props.items.map((item, index) => {\n                return <NavLink className={styles.item} to={`/book/${item.id}`} key={item.id + index}>\n                    <div className={styles.image_container}>\n                        <img src={item.volumeInfo?.imageLinks?.thumbnail ? item.volumeInfo?.imageLinks?.thumbnail : imgPlug} alt='no cover available' />\n                    </div>\n                    <div className={styles.info}>\n                        <div className={styles.category}>{item.volumeInfo.categories?.[0]}</div>\n                        <div className={styles.title}>{item.volumeInfo.title}</div>\n                        <div className={styles.authors}>{item.volumeInfo.authors && item.volumeInfo.authors.map(author => {\n                            return <span key={author}>{author}</span>\n                        })}</div>\n                    </div>\n                </NavLink>\n            })} </div>}\n             {((props.totalItems > 0) && (props.totalItems !== props.items.length)) &&<span className={`${styles.loadMore} ${props.isFetching ? styles.active : ''}`} onClick={props.onLoadMore}>{props.isFetching ? <img src={preloader}/> : 'Load More'}</span>}\n        </div>}\n        {!props.isFetchingButton && (props.isFetching && <Preloader />)}\n    </>\n}\n\nexport default Catalog","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { getCatalog } from '../../redux/catalog-reducer'\nimport { AppStateType } from '../../redux/redux-store'\nimport { FormDataType } from '../../types/types'\nimport Catalog from \"./Catalog\"\n\ntype MapPropsType = ReturnType<typeof mapStateToProps>\ntype DispatchPropsType = {\n    getCatalog: (formData: FormDataType, startIndex: number) => void\n}\n\n\nconst CatalogContainer: React.FC<MapPropsType & DispatchPropsType> = (props) => {\n\n    const [isFetchingButton, setIsfetchingButton] = useState(false)\n\n    const onLoadMore = () => {\n        props.getCatalog(props.formData, props.startIndex + props.maxResults)\n        setIsfetchingButton(true)\n    }\n\n    return <Catalog items={props.items}\n        totalItems={props.totalItems}\n        isFetching={props.isFetching}\n        onLoadMore={onLoadMore}\n        isFetchingButton={isFetchingButton} />\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n    items: state.Catalog.items,\n    totalItems: state.Catalog.totalItems,\n    startIndex: state.Catalog.startIndex,\n    maxResults: state.Catalog.maxResults,\n    formData: state.Catalog.formData,\n    isFetching: state.Catalog.isFetching\n})\n\nexport default connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, { getCatalog })(CatalogContainer)","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { FormDataType } from \"../../types/types\";\nimport styles from \"./Search.module.css\";\n\ntype PropsType = {};\ntype DispatchPropsType = {\n  getCatalog: (formData: FormDataType, startIndex: number) => void;\n};\n\nconst Search: React.FC<PropsType & DispatchPropsType> = (props) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<FormDataType>();\n  let history = useHistory();\n  const searchBooks = (formData: FormDataType) => {\n    props.getCatalog(formData, 0);\n    history.push(\"/catalog\");\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.form}>\n        <form onSubmit={handleSubmit(searchBooks)}>\n          <h2>Search for books</h2>\n          <div\n            className={`${styles.search_field} ${\n              errors.search ? styles.required : \"\"\n            }`}\n          >\n            <input\n              {...register(\"search\", {\n                required: {\n                  value: true,\n                  message: \"this field is required\",\n                },\n              })}\n              type=\"text\"\n              placeholder=\"start searching...\"\n            />\n            <label htmlFor=\"submit\"></label>\n            <button type=\"submit\" id=\"submit\" />\n            {errors.search && (\n              <div className={styles.error}>{errors.search.message}</div>\n            )}\n          </div>\n          <div className={styles.settings_wrapper}>\n            <span className={styles.category}>\n              <label htmlFor=\"category\">Categories</label>\n              <select {...register(\"category\")} defaultValue=\"all\">\n                <option>all</option>\n                <option>art</option>\n                <option>biography</option>\n                <option>computers</option>\n                <option>history</option>\n                <option>medical</option>\n                <option>poetry</option>\n              </select>\n            </span>\n\n            <span className={styles.sorting}>\n              <label htmlFor=\"sorting\">Sorting by</label>\n              <select {...register(\"sorting\")} defaultValue=\"relevance\">\n                <option>relevance</option>\n                <option>newest</option>\n              </select>\n            </span>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { getCatalog } from '../../redux/catalog-reducer'\nimport { AppStateType } from '../../redux/redux-store'\nimport { FormDataType } from '../../types/types'\nimport Search from './Search'\n\ntype MapPropsType = ReturnType<typeof mapStateToProps>\ntype DispatchPropsType = {\n    getCatalog: (formData: FormDataType, startIndex: number) => void\n}\n\nconst SearchContainer: React.FC<MapPropsType & DispatchPropsType> = (props) => {\n\n    return <Search getCatalog={props.getCatalog} />\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n\n})\n\nexport default connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, { getCatalog })(SearchContainer)","import { Action, applyMiddleware, combineReducers, createStore } from 'redux';\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\n\nimport bookReducer from \"./book-reducer\";\nimport catalogReducer from \"./catalog-reducer\";\n\nlet reducers = combineReducers({\n    Catalog: catalogReducer,\n    Book: bookReducer\n})\n\ntype RootReducerType = typeof reducers\n\nexport type AppStateType = ReturnType<RootReducerType>\n\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nexport type InferActionsTypes<T> = T extends {[key: string]: (...args: any[]) => infer U } ? U : never\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\n\n//@ts-ignore\nwindow.store = store;\n\nexport default store;","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter, Redirect, Route } from \"react-router-dom\";\nimport styles from \"./App.module.css\";\nimport BookContainer from \"./components/Book/BookContainer\";\nimport CatalogContainer from \"./components/Catalog/CatalogContainer\";\nimport SearchContainer from \"./components/Form/SearchContainer\";\nimport store from \"./redux/redux-store\";\n\nconst App: React.FC = () => {\n  return (\n    <div className={styles.app_wrapper}>\n      <Redirect exact from=\"/\" to=\"/search\" />\n      <SearchContainer />\n      <Route path=\"/catalog\" render={() => <CatalogContainer />} />\n      <Route\n        path=\"/book/:volumeId\"\n        render={(props) => <BookContainer {...props} />}\n      />\n    </div>\n  );\n};\n\nconst GoogleBooksApp: React.FC = () => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default GoogleBooksApp;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport GoogleBooksApp from './App';\n\n\nReactDOM.render(\n  <GoogleBooksApp />,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}